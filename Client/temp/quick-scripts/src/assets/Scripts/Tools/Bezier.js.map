{"version":3,"sources":["assets\\Scripts\\Tools\\Bezier.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAAoC,0BAAY;IAAhD;;IAwDA,CAAC;IA3Ca,sBAAK,GAAf;IACA,CAAC;IAGS,uBAAM,GAAhB,UAAiB,EAAU;QACvB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACnB,OAAM;SACT;QACD,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE;YACjB,IAAI,QAAQ,GAAG,IAAI,EAAE,CAAC,IAAI,CACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,EAEtJ,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAA;YAC3J,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;YAC7B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC,SAAS,CAAA;SAChD;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAA;YAChC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAA;YACxB,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,EAAE;gBAC7B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;aAC1D;SACJ;IACL,CAAC;IAEM,6BAAY,GAAnB,UAAoB,SAAiB,EAAE,SAAiB,EAAE,UAAkB,EAAE,UAAkB,EAAE,OAAe,EAAE,OAAe,EAAE,SAAiB,EAAE,kBAAuB,EAAE,cAAmD;QAE/N,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAA;QAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAA;QAEpD,IAAI,CAAC,QAAQ,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAA;QACjD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAA;QACpC,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAA;QAE5C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;QAEvB,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAA;QAElC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;IAGlB,CAAC;IAtDgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAwD1B;IAAD,aAAC;CAxDD,AAwDC,CAxDmC,EAAE,CAAC,SAAS,GAwD/C;kBAxDoB,MAAM","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class Bezier extends cc.Component {\n\n\n    private timeScale: number\n    private tarPos: cc.Vec2\n    private centerPos: cc.Vec2\n    private startPos: cc.Vec2\n    private finishCallback\n    private finishCallbackParm\n    private hasInitData\n    private timer\n\n\n    protected start(): void {\n    }\n\n\n    protected update(dt: number): void {\n        if (!this.hasInitData) {\n            return\n        }\n        if (this.timer <= 1) {\n            let finalPos = new cc.Vec2(\n                this.startPos.x * (1 - this.timer) * (1 - this.timer) + this.centerPos.x * 2 * this.timer * (1 - this.timer) + this.tarPos.x * this.timer * this.timer\n                ,\n                this.startPos.y * (1 - this.timer) * (1 - this.timer) + this.centerPos.y * 2 * this.timer * (1 - this.timer) + this.tarPos.y * this.timer * this.timer)\n            this.node.position = finalPos\n            this.timer = this.timer + dt * this.timeScale\n        } else {\n            this.node.position = this.tarPos\n            this.hasInitData = false\n            if (this.finishCallback != null) {\n                this.finishCallback(this.finishCallbackParm, this.node)\n            }\n        }\n    }\n\n    public SetMoveTrail(startPosX: number, startPosY: number, centerPosX: number, centerPosY: number, tarPosX: number, tarPosY: number, timeScale: number, finishCallbackParm: any, finishCallback: (parm: any, trans: cc.Node) => void) {\n\n        this.timeScale = timeScale\n        this.tarPos = new cc.Vec2(tarPosX, tarPosY)\n        this.centerPos = new cc.Vec2(centerPosX, centerPosY)\n\n        this.startPos = new cc.Vec2(startPosX, startPosY)\n        this.finishCallback = finishCallback\n        this.finishCallbackParm = finishCallbackParm\n\n        this.hasInitData = true\n\n        this.node.position = this.startPos\n\n        this.timer = 0\n\n\n    }\n\n}"]}