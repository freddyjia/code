{"version":3,"sources":["assets\\Scripts\\Tools\\Util.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import ButtonListener from \"../Components/ButtonListener\";\nimport PageViewListener from \"../Components/PageViewListener\";\nimport ScrollViewListener from \"../Components/ScrollViewListener\";\nimport SliderListener from \"../Components/SliderListener\";\nimport EditBoxListener from \"../Components/EditBoxListener\";\nimport TimerManager from \"../Components/TimerManager\";\nimport { JSOpenUrl } from \"../JsTool/JSOpenUrl\";\nimport ccC from \"./ccC\";\nimport NodeUtil from \"./NodeUtil\";\n// import Global from \"../Global/Global\";\n\nexport default class Util\n{\n    //customData,audioName 是可选参数，可不填.   customData只能填string类型\n    public static SetClickAction(button:cc.Button,callback:(button:cc.Button,data:any)=>void,audioName?:string,customData?:string)\n    {\n        \n        let buttonListener:ButtonListener = button.getComponent(ButtonListener);\n        if(buttonListener == null)\n        {\n            buttonListener = button.addComponent(ButtonListener);\n        }\n\n        //TODO:设置音效相关 audioName\n        buttonListener.Init();\n        buttonListener.SetData(customData);\n        buttonListener.SetAudioName(audioName);\n        buttonListener.SetOnClickCallback(callback);\n    \n    }\n\n    public static SetPageViewScrollEvent(pageView:cc.PageView, callback:(pageView:cc.PageView, eventType:cc.PageView.EventType, data:any)=>void)\n    {\n        let pageViewListener:PageViewListener = pageView.getComponent(PageViewListener);\n        if (pageViewListener == null)\n            pageViewListener = pageView.addComponent(PageViewListener);\n\n        pageViewListener.SetScrollEventAction(callback);\n    }\n\n    public static SetSliderValueChangeEvent(slider:cc.Slider,callback:(slider:cc.Slider,data:any)=>void)\n    {\n        let sliderListener:SliderListener = slider.getComponent(SliderListener);\n        if(sliderListener == null)\n        {\n            sliderListener = slider.addComponent(SliderListener);\n        }\n        sliderListener.SetSliderValueChangeCallback(callback);\n    }\n\n    public static SetScrollViewScrollEvent(scrollView:cc.ScrollView, callback:(scrollView:cc.ScrollView, eventType:cc.ScrollView.EventType, data:any)=>void)\n    {\n        let scrollViewListener:ScrollViewListener = scrollView.getComponent(ScrollViewListener);\n        if (scrollViewListener == null)\n            scrollViewListener = scrollView.addComponent(ScrollViewListener);\n\n        scrollViewListener.SetScrollEventAction(callback);\n    }\n\n    /**\n     * 输入框聚焦事件\n     * @param editBox \n     * @param callback \n     * @param customData \n     */\n    public static AddEditDidBeganEvent(editBox:cc.EditBox, callback:(editBox:cc.EditBox, customData:string)=>void, customData:string=\"\")\n    {\n        let editBoxListener = editBox.getComponent(EditBoxListener);\n        if (editBoxListener == null)\n            editBoxListener = editBox.addComponent(EditBoxListener);\n\n        editBoxListener.AddEditDidBeganHandler(callback, customData);\n    }\n\n    /**\n     * 输入框内容改变事件\n     * @param editBox \n     * @param callback \n     * @param customData \n     */\n    public static AddEditTextChangedEvent(editBox:cc.EditBox, callback:(text:string, editBox:cc.EditBox, customData:string)=>void, customData:string=\"\")\n    {\n        let editBoxListener = editBox.getComponent(EditBoxListener);\n        if (editBoxListener == null)\n            editBoxListener = editBox.addComponent(EditBoxListener);\n\n        editBoxListener.AddTextChangedHandler(callback, customData);\n    }\n\n    /**\n     * 输入框失焦事件\n     * @param editBox \n     * @param callback \n     * @param customData \n     */\n    public static AddEditDidEndedHandler(editBox:cc.EditBox, callback:(editBox:cc.EditBox, customData:string)=>void, customData:string=\"\")\n    {\n        let editBoxListener = editBox.getComponent(EditBoxListener);\n        if (editBoxListener == null)\n            editBoxListener = editBox.addComponent(EditBoxListener);\n\n        editBoxListener.AddEditDidEndedHandler(callback, customData);\n    }\n\n    /**\n     * 按下return\n     * @param editBox \n     * @param callback \n     * @param customData \n     */\n    public static AddEditingReturnHandler(editBox:cc.EditBox, callback:(editBox:cc.EditBox, customData:string)=>void, customData:string=\"\")\n    {\n        let editBoxListener = editBox.getComponent(EditBoxListener);\n        if (editBoxListener == null)\n            editBoxListener = editBox.addComponent(EditBoxListener);\n\n        editBoxListener.AddEditingReturnHandler(callback, customData);\n    }\n\n    /**\n     * 格式化字符串 例子 Util.StringFormat(\"aaa %s1 bbb %s2 ccc %s3\",\"111\",\"222\",\"333\");\n     * @param [stringOrigin] 原字符串\n     * @param [stringReplaces] 替换的字符串\n     */\n    public static StringFormat(stringOrigin:string,... stringReplaces:string[]):string\n    {\n        for(let i = 0;i<stringReplaces.length;i++)\n        {\n            stringOrigin = stringOrigin.replace(\"%s\" + (i + 1),stringReplaces[i]);\n        }\n\n        return stringOrigin;\n    }\n\n    /**\n     * 把单位分输出为元，如 1000 返回 10.\n     * @param [count] 多少分\n     * @param [showDot00] 如果末尾是.00，true 是保留，false是去掉\n     */\n    public static formatGoldText(count:string|number,showDot00:boolean=true):string\n    {\n        if(count == null)\n        {\n            return count = \"0\";\n        }\n        let tmp = 0;\n        if(typeof(count) == \"string\")\n        {\n            tmp = parseFloat(count);\n        }\n        else\n        {\n            tmp = count;\n        }\n        tmp /= 100;\n\n        let ret = tmp.toFixed(2);\n        if(showDot00 == false)\n        {\n            if(ret.length > 3 && (ret.substring(ret.length - 3,ret.length) == \".00\"))\n            {\n                ret = ret.substring(0,ret.length-3);\n            }\n        }\n        return ret;\n    }\n\n    /**\n     * 设置图集\n     * @param sprite \n     * @param atlas \n     * @param spriteName \n     * @param finishCallback\n     */\n    public static SetSpriteFrame(sprite:cc.Sprite, atlasPath:string, spriteName:string, finishCallback:()=>void)\n    {\n        // cc.error(\"atlasPath  \" + atlasPath);\n        // ccC.loadResDir(atlasPath, cc.SpriteFrame, (err, assets:cc.SpriteFrame[])=>{\n        //     if (err) {\n        //         cc.error(\"err  \" + err.message || err);\n        //         return;\n        //     }\n        //     for (let i = 0; i < assets.length; i++)\n        //     {\n        //         if (assets[i].name == spriteName)\n        //         {\n        //             sprite.spriteFrame = assets[i];\n        //             if (finishCallback != null)\n        //                 finishCallback();\n        //             break;\n        //         }\n        //     }\n        // });\n        ccC.loadRes(atlasPath,cc.SpriteAtlas,(err,res:cc.SpriteAtlas)=>{\n            if (err) {\n                cc.error(\"err  \" + err.message || err);\n                return;\n            }\n            sprite.spriteFrame = res.getSpriteFrame(spriteName);\n        });\n    }\n    \n    \n\n    public static netImageCache:{[spritName:string]:cc.SpriteFrame} = {};\n\n    /**\n     * 设置网络头像\n     * @param imgHeadObj 显示头像的GameObject\n     * @param headUrl 头像地址\n     * @param isSetNativeSize 是否设置原始尺寸\n     */\n    public static SetHeadNetIcon(imgHeadObj:cc.Sprite, headUrl:string,successCallback:()=>void=null)\n    {\n        if (headUrl==undefined || headUrl == null || headUrl.length == 0)\n            headUrl = \"GYZY_TX_M_1\";\n        \n        let spHeadImage = imgHeadObj;\n        let spriteFrame = headUrl;\n        let posIndex = headUrl.lastIndexOf(\".\");\n        if (posIndex > 0)\n        {\n            spriteFrame = headUrl.substring(0, posIndex-1);\n        }\n        let assetPath = \"MainGame/Atlas/Head\";\n        if (this.netImageCache[spriteFrame] == null)\n        {\n            ccC.loadRes(assetPath, cc.SpriteAtlas, (err: Error, atlas: any) =>\n            {\n                if (err) {\n                    cc.error(\"err  \" + err.message || err);\n                    return;\n                }\n                let atlass:cc.SpriteAtlas = atlas as cc.SpriteAtlas;\n                imgHeadObj.spriteFrame = atlass.getSpriteFrame(spriteFrame);\n                this.netImageCache[spriteFrame] = atlass.getSpriteFrame(spriteFrame);\n                if(successCallback != null)\n                {\n                    successCallback();\n                }\n            });\n        }\n        else\n        {\n            imgHeadObj.spriteFrame = this.netImageCache[spriteFrame];\n        }\n    }\n\n    /**\n     * 设置头像框\n     * @param image \n     * @param spritName \n     */\n    public static SetHeadBox(image:cc.Sprite, spritName:string)\n    {\n        if (spritName==null || spritName.length==0 || spritName == \"default\")\n            spritName = \"GYZY_TXK\";\n            \n        let assetPath = \"MainGame/Atlas/Head\";\n        if (this.netImageCache[spritName] == null)\n        {\n            ccC.loadRes(assetPath, cc.SpriteAtlas, (err: Error, atlas: any) =>\n            {\n                if (err) {\n                    cc.error(\"err  \" + err.message || err);\n                    return;\n                }\n                let atlass:cc.SpriteAtlas = atlas as cc.SpriteAtlas;\n                image.spriteFrame = atlass.getSpriteFrame(spritName);;\n                this.netImageCache[spritName] = atlass.getSpriteFrame(spritName);\n            });\n        }\n        else\n        {\n            image.spriteFrame = this.netImageCache[spritName];\n        }\n    }\n\n    public static SetHeadIcon(sprite:cc.Sprite, headUrl:string)\n    {\n        if (headUrl==undefined || headUrl == null || headUrl.length == 0)\n            headUrl = \"GYZY_TX_M_1\";\n\n        let path = \"Textures/Head/\" + headUrl;\n        NodeUtil.SetSpriteFrame(sprite, path);\n    }\n\n    //播放spine动画回调接口\n    public static PlaySpineEffect(spine:sp.Skeleton,listener: any=null,name:string = \"1\",loop:boolean = false,hideOnComplete:boolean = true)\n    {\n        if(spine == null)\n        {\n            // if(Global.showLog == true)\n            cc.error(\"spine 动画为空\");\n            return;\n        }\n        spine.node.active = false;\n        spine.node.active = true;\n\n        spine.setAnimation(0,name,loop);\n        spine.setCompleteListener(()=>{\n            if (hideOnComplete) \n            {\n                spine.node.active = false;\n            }\n\n            if(listener !=null)\n            {\n                listener();\n            }\n        });\n    }\n\n    /**\n     * 删除指定数组中指定下标或者元素数据,\n     # 不支持删除纯数字组成的数组，\n     ## 因为第二个参数如果传入的是 number 类型，默认会将其认为是数组下标。\n     * @param array 需要修改的数组\n     * @param obj 指定下标或者元素\n     */\n    public static RemoveArray(array:Array<any>, obj:any):any{\n        let temp\n        if(typeof(obj)=='number'){\n            return array.splice(obj,1)\n        }else{\n            temp = array.indexOf(obj)\n            if(temp>-1){\n                return array.splice(temp,1)\n            }\n        }\n        return null\n    }\n\n    /**\n     * 根据用户头像判定是否为男性\n     * @param headName 用户头像文件名\n     */\n    public static GetGenderByName(headName:string):boolean{\n        if(headName == null) return true\n        return headName.indexOf('_M_') !== -1\n    }\n    \n    /**\n     * 判断字符串是否是合法的邮箱\n     */\n    public static IsRightEmail(str:string)\n    {\n        let reg = new RegExp(/^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/);\n        if (reg.test(str))\n            return true;\n        return false;\n    }\n\n    /**\n     * 判断是否是合法的手机号\n     */\n    public static IsRightMobile(str:string)\n    {\n        let reg = new RegExp(/^1[0123456789]\\d{9}$/);\n        if (reg.test(str))\n            return true;\n\n        return false;\n    } \n\n    /**\n     * 根据音效路径获取声音名称，不包括后缀\n     */\n\n    //  public static GetAudioNameByPath(audioPath:string){\n    //      if(audioPath==null||audioPath==\"\"){\n    //          return \"\";\n    //      }\n    //      let pathList=audioPath.split(\"/\",5)\n\n    //  }\n\n    /**\n     * 返回一个函数\n     */\n     public static handler2(selfTable,method,buttonCustom){\n         return function(){\n             return method(selfTable,buttonCustom);\n         }\n     }\n\n     public static handle(obj,method){\n         return function(){\n             return method(obj)\n         }\n     }\n\n    public static PerformWithDelay(time:number,callBack:any,timerArray:Array<string> = null,autoDel:boolean = true)\n    {\n        let timerID = \"\";\n        timerID = TimerManager.GetInstance().CallActionDelay(()=>{\n\n            if(callBack!=null)\n            {\n                callBack();\n            }\n            if(autoDel&&timerArray!=null)\n            {\n                TimerManager.GetInstance().DeleteTimer(timerID);\n                Util.RemoveArray(timerArray,timerID);\n            }\n        },time);\n        if(timerArray!=null)\n        {\n            timerArray.push(timerID);\n        }\n        return timerID;\n    }\n\n\n    public static GetOrCreateItem(parentContainer:cc.Node,index:number):cc.Node\n    {   \n        let childNode:cc.Node = null;\n       \n\n        if(index<parentContainer.childrenCount)\n        {\n            //cc.error( parentContainer.children[index]);\n            childNode = parentContainer.children[index];\n        }\n        else\n        {\n            //cc.error( parentContainer.children[0]);\n            childNode = cc.instantiate(parentContainer.children[0]);\n            childNode.parent = parentContainer;\n        }\n\n        childNode.active = true;\n        return childNode;\n    }\n\n    public static GetDicLength(dic:{}):number{\n        let count = 0\n        for (const key in dic) {\n            if (dic.hasOwnProperty(key)) {\n                count ++ \n            }\n        }\n        return count\n    }\n\n    public static OpenUrl(url)\n    {\n        if(cc.sys.isBrowser == false)\n        {\n            JSOpenUrl.DirectOpen(url);\n        }\n        else\n        {\n            if(cc.sys.isMobile == false)\n            {\n                JSOpenUrl.BlankOpen(url);\n            }\n            else\n            {\n                if(cc.sys.os == cc.sys.OS_IOS)\n                {\n                    //内嵌webview\n                    // if(cc.sys.browserType == cc.sys.BROWSER_TYPE_UNKNOWN)\n                    // {\n                    //     JSOpenUrl.JustOpen(url);\n                    // }\n                    // else\n                    // {\n                    //     //ios各种浏览器\n                    //     JSOpenUrl.BlankOpen(url);\n                    // }\n\n                    JSOpenUrl.BlankOpen(url);\n                }\n                else if(cc.sys.os == cc.sys.OS_ANDROID)\n                {\n                    //安卓\n                    JSOpenUrl.BlankOpen(url);\n                }\n                else\n                {\n                    JSOpenUrl.DirectOpen(url);\n                }\n            }\n        }\n    }\n\n    /**\n     * 格式化日期， \n     * @param date Date对象\n     * @param formatStr 可以是-，也可以是/\n     * @param hasHMS 是否包含时分秒\n     */\n    public static FormatDate(date:Date, formatStr=\"-\", hasHMS=false)\n    {\n        let year = date.getFullYear();\n        let month = date.getMonth() + 1;\n        let monthStr = month >= 10 ? month : \"0\" + month;\n        let day = date.getDate();\n        let dayStr = day >= 10 ? day : \"0\" + day;\n        let dateStr = year + formatStr + monthStr + formatStr + dayStr;\n\n        if (hasHMS)\n        {\n            dateStr += (\" \" + date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds());\n        }\n        \n        return dateStr;\n    }\n\n}\n"]}