{"version":3,"sources":["assets\\Scripts\\JsTool\\ClipboardJS.js"],"names":["ClipboardJS","CreateElementForExecCommand","textToClipboard","forExecElement","document","createElement","style","position","left","top","userSelect","textContent","body","appendChild","contentEditable","SelectContent","element","rangeToSelect","createRange","selectNodeContents","selection","window","getSelection","removeAllRanges","addRange","Copy","str","console","log","success","clipboardData","setData","input","el","value","setAttribute","contain","fontSize","originalRange","rangeCount","getRangeAt","select","selectionStart","selectionEnd","length","execCommand","err","error","removeChild"],"mappings":"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","sourceRoot":"/","sourcesContent":["export function ClipboardJS() \n{ \n\n}\n\n// ClipboardJS.Copy = function(content,callback){\n//     var success = document.execCommand(\"Copy\", false, null);\n//     callback(success);\n    \n//     // var script = document.createElement(\"script\");\n//     // script.type= 'text/javascript';\n//     // script.src = \"./clipboard.min.js\";\n// }\n\nfunction CreateElementForExecCommand (textToClipboard) {\n    var forExecElement = document.createElement (\"div\");\n    //在可见区域以外\n    forExecElement.style.position = \"absolute\";\n    forExecElement.style.left = \"-10000px\";\n    forExecElement.style.top = \"-10000px\";\n    forExecElement.style.userSelect = \"all\";\n    //将必需的文本写入元素并追加到文档中\n    forExecElement.textContent = textToClipboard;\n    document.body.appendChild (forExecElement);\n    //内容编辑模式在火狐的exec命令方法是必要的\n    forExecElement.contentEditable = true;\n    return forExecElement;\n}\n    \nfunction SelectContent (element) {\n    //创建一个范围\n    var rangeToSelect = document.createRange ();\n    rangeToSelect.selectNodeContents (element);\n    //选择内容\n    var selection = window.getSelection ();\n    selection.removeAllRanges ();\n    selection.addRange (rangeToSelect);\n}\n\nClipboardJS.Copy = function(str){\n    console.log('复制');\n\n    var textToClipboard = str; //文本到剪贴板\n\n    var success = false;\n    if (window.clipboardData) { // 浏览器\n        window.clipboardData.setData (\"Text\", textToClipboard);\n        success = true;\n    }\n    else\n    {\n        var input = str + '';\n        const el = document.createElement('textarea');\n        el.value = input;\n        el.setAttribute('readonly', '');\n        el.style.contain = 'strict';\n        el.style.position = 'absolute';\n        el.style.left = '-9999px';\n        el.style.fontSize = '12pt'; // Prevent zooming on iOS\n    \n        const selection = getSelection();\n        var originalRange = false;\n        if (selection.rangeCount > 0) {\n            originalRange = selection.getRangeAt(0);\n        }\n        document.body.appendChild(el);\n        el.select();\n        el.selectionStart = 0;\n        el.selectionEnd = input.length;\n    \n        try {\n            success = document.execCommand('copy',false);\n        } catch (err) {\n            console.error(\"ClipboardJS err \" + err);\n        }\n    \n        document.body.removeChild(el);\n    \n        if (originalRange) {\n            selection.removeAllRanges();\n            selection.addRange(originalRange);\n        }\n\n        // var forExecElement = CreateElementForExecCommand (textToClipboard);\n        // SelectContent (forExecElement);\n\n        // try {\n        //     if (window.netscape && netscape.security) {\n        //         netscape.security.PrivilegeManager.enablePrivilege (\"UniversalXPConnect\");\n        //     }\n        //     //将选定内容复制到剪贴板\n        //     success = document.execCommand (\"copy\", false, null);\n        // }\n        // catch (e) {\n        //     success = false;\n        // }\n        // //移除临时元素\n        // document.body.removeChild (forExecElement);\n    }\n\n    \n    // return success;\n    return true;\n}\n"]}